# 요구사항 분석 및 기능정의

전문적인 **SmartWork ERP 요구사항 정의서**를 작성해드렸습니다.

### 📋 문서 구성

이 문서에는 다음 내용이 포함되어 있습니다:

1. **프로젝트 개요** - 목적, 배경, 핵심 목표
2. **기술 스택** - Java, JSP, MySQL 등
3. **시스템 아키텍처** - 레이어 구조, 공통 인프라
4. **6개 모듈별 상세 요구사항**:
    - 인사/출퇴근 관리
    - 프로젝트 관리 (PMS)
    - 재고/자산 관리
    - 전자결재 시스템
    - 사내 메일 시스템
    - 실시간 채팅 시스템
5. **통합 대시보드** 설계
6. **우선순위 및 개발 순서** (MVP → 확장 기능)
7. **비기능 요구사항** (보안, 성능, 사용성)
8. **데이터베이스 개요**
9. **다음 단계 가이드**

![[SmartWork_ERP_요구사항정의서_v1.0.docx]]

# ERD 설계
먼저 전체 데이터베이스 구조를 체계적으로 설계한 후 시각화된 ERD 다이어그램과 상세 테이블 명세서
### 📄 문서 1: 테이블 상세 명세서

**총 25개 테이블**의 모든 컬럼을 상세하게 정리했습니다:

- **공통 테이블**: users, roles, departments, positions
- **인사/출퇴근**: employees, attendance, leave_requests, annual_leaves
- **프로젝트**: projects, project_members, tasks, task_comments
- **재고/자산**: inventory_items, inventory_transactions, asset_rentals
- **전자결재**: approval_forms, approval_documents, approval_lines
- **메일**: mail_messages, mail_recipients
- **채팅**: chat_rooms, chat_participants, chat_messages
- **공통**: files, notifications

각 테이블마다 컬럼명, 데이터 타입, NULL 여부, KEY 정보, 상세 설명을 포함했습니다.

### 📄 문서 2: ERD 관계 및 인덱스 전략

- **테이블 간 관계도**: 1:1, 1:N, N:M 관계 상세 설명
- **인덱스 전략**: 성능 최적화를 위한 인덱스 설계
    - FK 컬럼 인덱스
    - 자주 조회되는 컬럼 인덱스
    - 복합 인덱스 설계

---

## 🗂️ ERD 핵심 요약

### 주요 관계

- **users ↔ employees**: 1:1 (로그인 정보 ↔ 인사 정보)
- **projects ↔ employees**: N:M (프로젝트 참여자)
- **chat_rooms ↔ employees**: N:M (채팅방 참여자)
- **각 모듈**: 대부분 1:N 관계로 구성

### 설계 특징

- ✅ 확장 가능한 구조 (향후 모듈 추가 용이)
- ✅ 정규화된 설계 (중복 최소화)
- ✅ 성능 고려한 인덱스 전략
- ✅ 소프트 삭제 지원 (deleted_at)
- ✅ 감사 추적 가능 (created_at, updated_at)


![[SmartWork_ERP_테이블명세서_v1.0.docx]]![[SmartWork_ERP_ERD관계및인덱스_v1.0.docx]]

# SQL SCRIPT 작성 

SQL 생성 스크립트를 작성하겠습니다. 실제 데이터베이스에 바로 적용할 수 있는 DDL을 만들어드리겠습니다
- **SmartWork_ERP_Database_Scripts.zip** - 전체 SQL 스크립트 모음
- **SmartWork_ERP_데이터베이스스크립트가이드_v1.0.docx** - 상세 가이드 문서
## 📄 스크립트 패키지 내용

### 🗂️ 총 12개 SQL 파일

1. **00_create_database.sql** - 데이터베이스 생성
2. **01_create_common_tables.sql** - 공통/인증 테이블 (4개)
3. **02_create_hr_tables.sql** - 인사/출퇴근 (4개 테이블)
4. **03_create_project_tables.sql** - 프로젝트 관리 (4개 테이블)
5. **04_create_inventory_tables.sql** - 재고/자산 (3개 테이블)
6. **05_create_approval_tables.sql** - 전자결재 (3개 테이블)
7. **06_create_communication_tables.sql** - 메일/채팅 (5개 테이블)
8. **07_create_common_support_tables.sql** - 파일/알림 (2개 테이블)
9. **08_insert_initial_data.sql** - 초기 데이터 삽입
10. **master_install.sql** - 전체 일괄 실행 스크립트 ⭐
11. **99_drop_database.sql** - DB 삭제 스크립트
12. **README.md** - 설치 가이드
## 🚀 빠른 설치 방법

bash

```bash
# 압축 해제 후
mysql -u root -p < master_install.sql
```

단 한 줄로 모든 테이블이 생성됩니다!

## 🔐 초기 관리자 계정

- **Username**: `admin`
- **Password**: `admin123`

⚠️ **중요**: 설치 후 반드시 비밀번호를 변경하세요!

sql

```sql
UPDATE users 
SET password = SHA2('새비밀번호', 256) 
WHERE username = 'admin';
```

## 📊 자동 생성되는 초기 데이터

- ✅ 역할 5개 (ADMIN, MANAGER, EMPLOYEE, HR, FINANCE)
- ✅ 직급 12개 (인턴 ~ 사장)
- ✅ 부서 11개 (3개 본부 + 8개 팀)
- ✅ 관리자 계정 1개
- ✅ 결재 양식 5개
- ✅ 샘플 재고 5개

---

## 🎯 스크립트 특징

### ✨ 완벽한 구조

- 외래 키 관계 모두 설정
- 인덱스 최적화 완료
- UTF-8 문자셋 지원
- 공통 컬럼(created_at, updated_at) 적용

### 🛡️ 안전한 설계

- 소프트 삭제 지원 (deleted_at)
- CASCADE 옵션 적절히 설정
- ENUM 타입으로 데이터 무결성 보장
- UNIQUE 제약조건 적용

### ⚡ 성능 최적화

- FK 컬럼 인덱스 자동 생성
- 복합 인덱스 적용
- InnoDB 엔진 사용

![[SmartWork_ERP_Database_Scripts.zip]]![[SmartWork_ERP_데이터베이스스크립트가이드_v1.0.docx]]


# API 명세서
API 명세서를 작성하겠습니다. RESTful API 설계 원칙에 따라 각 모듈별 엔드포인트를 체계적으로 정리하겠습니다.

## 🎉 API 명세서 작성 완료!

완벽한 RESTful API 명세서를 작성했습니다!

---

## 📋 API 명세서 포함 내용

### 1. API 개요

- Base URL 및 버전 정보
- 인증 방식 (세션 기반)
- 공통 응답 형식
- HTTP 상태 코드

### 2. 인증 API (4개)

- 로그인, 로그아웃
- 현재 사용자 정보 조회
- 비밀번호 변경

### 3. 직원 관리 API (6개)

- 직원 CRUD
- 검색 및 필터링
- 페이징 지원

### 4. 출퇴근 관리 API (6개)

- 출퇴근 체크
- 근태 기록 조회
- 월별 통계

### 5. 프로젝트 관리 API (18개)

- 프로젝트 CRUD
- 프로젝트 멤버 관리
- 업무(Task) CRUD
- 업무 댓글

### 6. 재고/자산 관리 API (10개)

- 재고 품목 관리
- 입출고 처리
- 자산 대여 시스템

### 7. 전자결재 API (10개)

- 결재 양식 관리
- 결재 문서 작성/상신
- 결재 승인/반려

### 8. 휴가 관리 API (5개)

- 연차 조회
- 휴가 신청/취소
- 휴가 캘린더

### 9. 메일 API (9개)

- 메일 발송/수신
- 답장/전달
- 읽음 처리

### 10. 채팅 API (8개)

- 채팅방 관리
- 메시지 송수신
- WebSocket 연결

### 11. 파일 관리 API (4개)

- 파일 업로드/다운로드
- 파일 정보 조회

### 12. 알림 API (5개)

- 알림 목록 조회
- 읽음 처리

### 13. 대시보드 API (4개)

- 통합 대시보드 정보
- 개인 업무 요약

### 부록

- 에러 코드 정의
- 공통 응답 형식


## 📊 API 통계

- **총 API 엔드포인트**: 약 **90개+**
- **HTTP 메서드**: GET, POST, PUT, DELETE
- **인증 방식**: Session Cookie (JSESSIONID)
- **데이터 포맷**: JSON

## 🎨 API 설계 특징

### ✨ RESTful 원칙 준수

- 리소스 기반 URL 설계
- HTTP 메서드의 적절한 사용
- 명확한 상태 코드

### 🔐 보안

- 세션 기반 인증
- 권한별 접근 제어
- 에러 메시지 표준화

### 📄 명확한 문서화

- 각 API별 Request/Response 예시
- Query Parameter 설명
- 에러 코드 정의

### ⚡ 성능 고려

- 페이징 지원
- 필터링 및 검색
- WebSocket을 통한 실시간 통신

## 💡 API 활용 예시

### 로그인 → 대시보드 조회

```
1. POST /auth/login
2. GET /dashboard/summary
```

### 출근 체크 → 내 업무 확인

```
1. POST /attendance/check-in
2. GET /tasks/my
```

### 결재 문서 작성 → 상신

```
1. POST /approval/documents
2. POST /approval/documents/{docId}/submit
```


# api 예제
### 📘 PART 1 - API 개요 및 공통 규격

- API 개요 및 주요 특징
- API 버전 관리
- JWT 인증 방식
- 공통 응답 형식
- 페이지네이션
- 날짜/시간 형식

### 📗 PART 2 - API 상세 명세

- 13개 모듈의 모든 API 엔드포인트
- 각 API별 Method, Endpoint, 설명
- 부록: 전체 에러 코드

### 📙 PART 3 - API 예제 문서 (NEW!)

- **실제 Request/Response 예제**
- 인증 API 예제
- 직원 관리 예제
- 출퇴근 관리 예제
- 프로젝트/업무 관리 예제
- 전자결재 예제
- 메일/채팅 예제
- **에러 응답 예제**
- **실전 시나리오** (신입사원 등록, 출퇴근 업무 플로우)



# 화면설계 WIREFRAME

### **화면 설계서 (UI/UX)**

- 각 기능별 화면 와이어프레임
- 사용자 시나리오 및 플로우차트
- 화면 정의서


# 시스템 아키텍처 문서

- 전체 시스템 구성도
- 서버 구조 (Frontend/Backend/DB)
- 배포 전략 및 인프라 설계

# 개발 가이드

- 코딩 컨벤션
- Git 브랜치 전략
- 개발 환경 설정 가이드


# 프로젝트 폴더구조 설계

